<html>
  <head>
    <title>3D</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <link type="text/css" rel="stylesheet" href="main.css" />
    <style>
      a {
        color: #8ff;
      }

      #menu {
        position: absolute;
        bottom: 20px;
        width: 100%;
        text-align: center;
      }

      .element {
        width: 120px;
        height: 160px;
        box-shadow: 0px 0px 12px rgba(0, 255, 255, 0.5);
        border: 1px solid rgba(127, 255, 255, 0.25);
        font-family: Helvetica, sans-serif;
        text-align: center;
        line-height: normal;
        cursor: default;
      }

      .element:hover {
        box-shadow: 0px 0px 12px rgba(0, 255, 255, 0.75);
        border: 1px solid rgba(127, 255, 255, 0.75);
      }

      .element .number {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 12px;
        color: rgba(127, 255, 255, 0.75);
      }

      .element .symbol {
        position: absolute;
        top: 40px;
        left: 0px;
        right: 0px;
        font-size: 60px;
        font-weight: bold;
        color: rgba(255, 255, 255, 0.75);
        text-shadow: 0 0 10px rgba(0, 255, 255, 0.95);
      }

      .element .details {
        position: absolute;
        bottom: 15px;
        left: 0px;
        right: 0px;
        font-size: 12px;
        color: rgba(127, 255, 255, 0.75);
      }

      button {
        color: rgba(127, 255, 255, 0.75);
        background: transparent;
        outline: 1px solid rgba(127, 255, 255, 0.75);
        border: 0px;
        padding: 5px 10px;
        cursor: pointer;
      }

      button:hover {
        background-color: rgba(0, 255, 255, 0.5);
      }

      button:active {
        color: #000000;
        background-color: rgba(0, 255, 255, 0.75);
      }
    </style>
  </head>
  <body>
    <script src="tween.min.js"></script>

    <div id="container"></div>
    <div id="menu">
      <button id="table">TABLE</button>
      <button id="sphere">SPHERE</button>
      <button id="helix">HELIX</button>
      <button id="grid">GRID</button>
    </div>

    <script type="module">
      import * as THREE from "./three.module.js";

      import { TrackballControls } from "./TrackballControls.js";
      import { CSS3DRenderer, CSS3DObject } from "./CSS3DRenderer.js";

      const img1 = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfqOS362IFieaTJf1RmbY6YQZvAO0a5f58Rv8WuM_3ROsXoVbG';
      const img2 = 'https://scontent.fsgn2-3.fna.fbcdn.net/v/t1.0-9/65249556_2201751060040954_8485490144231555072_n.jpg?_nc_cat=106&_nc_oc=AQkH2oK7cuLZQKLBJMXAAYseocRSGb5uxc1mNBNFH6meh0CC1yDwE55l5I-WD9nLCuk&_nc_ht=scontent.fsgn2-3.fna&oh=ab4392aa33277b6b1fb65db0cd5141e3&oe=5DEAE0BF';
      const img3 = 'https://scontent.fsgn2-1.fna.fbcdn.net/v/t1.0-9/66639423_1639921836140578_936290402237939712_n.jpg?_nc_cat=105&_nc_oc=AQltOUwkzPpKWe9TD3bJb1yGDjjIAPu2JPa7584sYm5BzZ7awiZ_mEFDPSibhsg3il8&_nc_ht=scontent.fsgn2-1.fna&oh=7e74b434a8cda1862f0c999a1a18dc1a&oe=5DE0D19A';
      const img4 = 'https://scontent.fsgn2-1.fna.fbcdn.net/v/t1.0-9/15203269_600714530112846_4619159008164388523_n.jpg?_nc_cat=111&_nc_oc=AQlhn8S7GW1vl64Zyja01d9TG925GIf_iP6YFhfnUmFahhBZUFBQMsticvH2CrQEDPI&_nc_ht=scontent.fsgn2-1.fna&oh=5c6a721851d172c2f265fe4761891b54&oe=5DE12C3F'
      const img5 = 'https://scontent.fsgn2-4.fna.fbcdn.net/v/t1.0-1/c3.0.720.720a/59965043_1775399935938548_2034154575048474624_n.jpg?_nc_cat=109&_nc_oc=AQnF7Or-DNQUrUJhEbfDK57-AR879ncByuLY8u06yufVS4iROMthbRujNSivFMrF8R8&_nc_ht=scontent.fsgn2-4.fna&oh=b110a75255304a147619ae16c82739c9&oe=5DDF7AD2';
      const img6 = 'https://scontent.fsgn2-3.fna.fbcdn.net/v/t1.0-9/26168079_2115959895292050_4075496355355061106_n.jpg?_nc_cat=106&_nc_oc=AQlwRZofyzpD4g2P30Fh3lw6GRCZ8JlG2dg4VU-eInJrNhWdSbNp01w-ULMOQPm8bh8&_nc_ht=scontent.fsgn2-3.fna&oh=cbf1162b122796ffa83e305065e248c3&oe=5DE66765';
      const img7 = 'https://scontent.fsgn2-4.fna.fbcdn.net/v/t1.0-9/34962526_1670201939745666_935045514557128704_n.jpg?_nc_cat=109&_nc_oc=AQlhIU83HaivQnDiX0q_qLJDVn7Te7oHdFehHttxUfNi90gxsKBzzWHKVN2DuQm1WFQ&_nc_ht=scontent.fsgn2-4.fna&oh=634696a511718abac824e229b21aba0c&oe=5DA325B4';
      const img8= 'https://scontent.fsgn2-3.fna.fbcdn.net/v/t1.0-9/48413855_1935705749882377_5781451688984444928_n.jpg?_nc_cat=106&_nc_oc=AQlBowkYkeFcaAuY8YUk-njUHoi97tMDQqyeakUJnMWG4KbgzqSy1jVZS3uMKZPqvkw&_nc_ht=scontent.fsgn2-3.fna&oh=4fa0775a8c2249151e5dc062e4c8d653&oe=5DAF2103';

      var table = [
        img1,
        "Hydrogen",
        "1.00794",
        1,
        1,
        img2,
        "Helium",
        "4.002602",
        18,
        1,
        img3,
        "Lithium",
        "6.941",
        1,
        2,
        img4,
        "Beryllium",
        "9.012182",
        2,
        2,
        img5,
        "Boron",
        "10.811",
        13,
        2,
        img6,
        "Carbon",
        "12.0107",
        14,
        2,
        img7,
        "Nitrogen",
        "14.0067",
        15,
        2,
        img8,
        "Oxygen",
        "15.9994",
        16,
        2,
        img1,
        "Fluorine",
        "18.9984032",
        17,
        2,
        img2,
        "Neon",
        "20.1797",
        18,
        2,
        img3,
        "Sodium",
        "22.98976...",
        1,
        3,
        img4,
        "Magnesium",
        "24.305",
        2,
        3,
        img5,
        "Aluminium",
        "26.9815386",
        13,
        3,
        img6,
        "Silicon",
        "28.0855",
        14,
        3,
        img7,
        "Phosphorus",
        "30.973762",
        15,
        3,
        img8,
        "Sulfur",
        "32.065",
        16,
        3,
        img1,
        "Chlorine",
        "35.453",
        17,
        3,
        img2,
        "Argon",
        "39.948",
        18,
        3,
        img3,
        "Potassium",
        "39.948",
        1,
        4,
        img4,
        "Calcium",
        "40.078",
        2,
        4,
        img5,
        "Scandium",
        "44.955912",
        3,
        4,
        img6,
        "Titanium",
        "47.867",
        4,
        4,
        img7,
        "Vanadium",
        "50.9415",
        5,
        4,
        img8,
        "Chromium",
        "51.9961",
        6,
        4,
        img1,
        "Manganese",
        "54.938045",
        7,
        4,
        img2,
        "Iron",
        "55.845",
        8,
        4,
        img3,
        "Cobalt",
        "58.933195",
        9,
        4,
        img4,
        "Nickel",
        "58.6934",
        10,
        4,
        img5,
        "Copper",
        "63.546",
        11,
        4,
        img6,
        "Zinc",
        "65.38",
        12,
        4,
        img7,
        "Gallium",
        "69.723",
        13,
        4,
        img8,
        "Germanium",
        "72.63",
        14,
        4,
        img1,
        "Arsenic",
        "74.9216",
        15,
        4,
        img2,
        "Selenium",
        "78.96",
        16,
        4,
        img3,
        "Bromine",
        "79.904",
        17,
        4,
        img4,
        "Krypton",
        "83.798",
        18,
        4,
        img5,
        "Rubidium",
        "85.4678",
        1,
        5,
        img6,
        "Strontium",
        "87.62",
        2,
        5,
        img7,
        "Yttrium",
        "88.90585",
        3,
        5,
        img8,
        "Zirconium",
        "91.224",
        4,
        5,
        img1,
        "Niobium",
        "92.90628",
        5,
        5,
        img2,
        "Molybdenum",
        "95.96",
        6,
        5,
        img3,
        "Technetium",
        "(98)",
        7,
        5,
        img4,
        "Ruthenium",
        "101.07",
        8,
        5,
        img5,
        "Rhodium",
        "102.9055",
        9,
        5,
        img6,
        "Palladium",
        "106.42",
        10,
        5,
        img7,
        "Silver",
        "107.8682",
        11,
        5,
        img8,
        "Cadmium",
        "112.411",
        12,
        5,
        img1,
        "Indium",
        "114.818",
        13,
        5,
        img2,
        "Tin",
        "118.71",
        14,
        5,
        img3,
        "Antimony",
        "121.76",
        15,
        5,
        img4,
        "Tellurium",
        "127.6",
        16,
        5,
        img5,
        "Iodine",
        "126.90447",
        17,
        5,
        img6,
        "Xenon",
        "131.293",
        18,
        5,
        img7,
        "Caesium",
        "132.9054",
        1,
        6,
        img8,
        "Barium",
        "132.9054",
        2,
        6,
        img1,
        "Lanthanum",
        "138.90547",
        4,
        9,
        img2,
        "Cerium",
        "140.116",
        5,
        9,
        img3,
        "Praseodymium",
        "140.90765",
        6,
        9,
        img4,
        "Neodymium",
        "144.242",
        7,
        9,
        img5,
        "Promethium",
        "(145)",
        8,
        9,
        img6,
        "Samarium",
        "150.36",
        9,
        9,
        img7,
        "Europium",
        "151.964",
        10,
        9,
        img8,
        "Gadolinium",
        "157.25",
        11,
        9,
        img1,
        "Terbium",
        "158.92535",
        12,
        9,
        img2,
        "Dysprosium",
        "162.5",
        13,
        9,
        img3,
        "Holmium",
        "164.93032",
        14,
        9,
        img4,
        "Erbium",
        "167.259",
        15,
        9,
        img5,
        "Thulium",
        "168.93421",
        16,
        9,
        img6,
        "Ytterbium",
        "173.054",
        17,
        9,
        img7,
        "Lutetium",
        "174.9668",
        18,
        9,
        img8,
        "Hafnium",
        "178.49",
        4,
        6,
        img1,
        "Tantalum",
        "180.94788",
        5,
        6,
        img2,
        "Tungsten",
        "183.84",
        6,
        6,
        img3,
        "Rhenium",
        "186.207",
        7,
        6,
        img4,
        "Osmium",
        "190.23",
        8,
        6,
        img5,
        "Iridium",
        "192.217",
        9,
        6,
        img6,
        "Platinum",
        "195.084",
        10,
        6,
        img7,
        "Gold",
        "196.966569",
        11,
        6,
        img8,
        "Mercury",
        "200.59",
        12,
        6,
        img1,
        "Thallium",
        "204.3833",
        13,
        6,
        img2,
        "Lead",
        "207.2",
        14,
        6,
        img3,
        "Bismuth",
        "208.9804",
        15,
        6,
        img4,
        "Polonium",
        "(209)",
        16,
        6,
        img5,
        "Astatine",
        "(210)",
        17,
        6,
        img6,
        "Radon",
        "(222)",
        18,
        6,
        img7,
        "Francium",
        "(223)",
        1,
        7,
        img8,
        "Radium",
        "(226)",
        2,
        7,
        img1,
        "Actinium",
        "(227)",
        4,
        10,
        img2,
        "Thorium",
        "232.03806",
        5,
        10,
        img3,
        "Protactinium",
        "231.0588",
        6,
        10,
        img4,
        "Uranium",
        "238.02891",
        7,
        10,
        img5,
        "Neptunium",
        "(237)",
        8,
        10,
        img6,
        "Plutonium",
        "(244)",
        9,
        10,
        img7,
        "Americium",
        "(243)",
        10,
        10,
        img8,
        "Curium",
        "(247)",
        11,
        10,
        img1,
        "Berkelium",
        "(247)",
        12,
        10,
        img2,
        "Californium",
        "(251)",
        13,
        10,
        img3,
        "Einstenium",
        "(252)",
        14,
        10,
        img4,
        "Fermium",
        "(257)",
        15,
        10,
        img5,
        "Mendelevium",
        "(258)",
        16,
        10,
        img6,
        "Nobelium",
        "(259)",
        17,
        10,
        img7,
        "Lawrencium",
        "(262)",
        18,
        10,
        img8,
        "Rutherfordium",
        "(267)",
        4,
        7,
        img1,
        "Dubnium",
        "(268)",
        5,
        7,
        img2,
        "Seaborgium",
        "(271)",
        6,
        7,
        img3,
        "Bohrium",
        "(272)",
        7,
        7,
        img4,
        "Hassium",
        "(270)",
        8,
        7,
        img5,
        "Meitnerium",
        "(276)",
        9,
        7,
        img6,
        "Darmstadium",
        "(281)",
        10,
        7,
        img7,
        "Roentgenium",
        "(280)",
        11,
        7,
        img8,
        "Copernicium",
        "(285)",
        12,
        7,
        img1,
        "Nihonium",
        "(286)",
        13,
        7,
        img2,
        "Flerovium",
        "(289)",
        14,
        7,
        img3,
        "Moscovium",
        "(290)",
        15,
        7,
        img4,
        "Livermorium",
        "(293)",
        16,
        7,
        img5,
        "Tennessine",
        "(294)",
        17,
        7,
        img6,
        "Oganesson",
        "(294)",
        18,
        7
      ];

      var camera, scene, renderer;
      var controls;

      var objects = [];
      var targets = { table: [], sphere: [], helix: [], grid: [] };

      init();
      animate();

      function init() {
        camera = new THREE.PerspectiveCamera(
          40,
          window.innerWidth / window.innerHeight,
          1,
          10000
        );
        camera.position.z = 3000;

        scene = new THREE.Scene();

        // table

        for (var i = 0; i < table.length; i += 5) {
          var element = document.createElement("div");
          element.className = "element";

          var image = document.createElement('img');
          image.src = table[i];
          image.style.width = '100%';
          image.style.height = '100%';
          element.appendChild(image);

          var object = new CSS3DObject(element);
          object.position.x = Math.random() * 4000 - 2000;
          object.position.y = Math.random() * 4000 - 2000;
          object.position.z = Math.random() * 4000 - 2000;
          scene.add(object);

          objects.push(object);

          //

          var object = new THREE.Object3D();
          object.position.x = table[i + 3] * 140 - 1330;
          object.position.y = -(table[i + 4] * 180) + 990;

          targets.table.push(object);
        }

        // sphere

        var vector = new THREE.Vector3();

        for (var i = 0, l = objects.length; i < l; i++) {
          var phi = Math.acos(-1 + (2 * i) / l);
          var theta = Math.sqrt(l * Math.PI) * phi;

          var object = new THREE.Object3D();

          object.position.setFromSphericalCoords(800, phi, theta);

          vector.copy(object.position).multiplyScalar(2);

          object.lookAt(vector);

          targets.sphere.push(object);
        }

        // helix

        var vector = new THREE.Vector3();

        for (var i = 0, l = objects.length; i < l; i++) {
          var theta = i * 0.175 + Math.PI;
          var y = -(i * 8) + 450;

          var object = new THREE.Object3D();

          object.position.setFromCylindricalCoords(900, theta, y);

          vector.x = object.position.x * 2;
          vector.y = object.position.y;
          vector.z = object.position.z * 2;

          object.lookAt(vector);

          targets.helix.push(object);
        }

        // grid

        for (var i = 0; i < objects.length; i++) {
          var object = new THREE.Object3D();

          object.position.x = (i % 5) * 400 - 800;
          object.position.y = -(Math.floor(i / 5) % 5) * 400 + 800;
          object.position.z = Math.floor(i / 25) * 1000 - 2000;

          targets.grid.push(object);
        }

        //

        renderer = new CSS3DRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById("container").appendChild(renderer.domElement);

        //

        controls = new TrackballControls(camera, renderer.domElement);
        controls.minDistance = 500;
        controls.maxDistance = 6000;
        controls.addEventListener("change", render);

        var button = document.getElementById("table");
        button.addEventListener(
          "click",
          function() {
            transform(targets.table, 2000);
          },
          false
        );

        var button = document.getElementById("sphere");
        button.addEventListener(
          "click",
          function() {
            transform(targets.sphere, 2000);
          },
          false
        );

        var button = document.getElementById("helix");
        button.addEventListener(
          "click",
          function() {
            transform(targets.helix, 2000);
          },
          false
        );

        var button = document.getElementById("grid");
        button.addEventListener(
          "click",
          function() {
            transform(targets.grid, 2000);
          },
          false
        );

        transform(targets.sphere, 5000);

        //

        window.addEventListener("resize", onWindowResize, false);
      }

      function transform(targets, duration) {
        TWEEN.removeAll();

        for (var i = 0; i < objects.length; i++) {
          var object = objects[i];
          var target = targets[i];

          new TWEEN.Tween(object.position)
            .to(
              {
                x: target.position.x,
                y: target.position.y,
                z: target.position.z
              },
              Math.random() * duration + duration
            )
            .easing(TWEEN.Easing.Exponential.InOut)
            .start();

          new TWEEN.Tween(object.rotation)
            .to(
              {
                x: target.rotation.x,
                y: target.rotation.y,
                z: target.rotation.z
              },
              Math.random() * duration + duration
            )
            .easing(TWEEN.Easing.Exponential.InOut)
            .start();
        }

        new TWEEN.Tween(this)
          .to({}, duration * 2)
          .onUpdate(render)
          .start();
      }

      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        renderer.setSize(window.innerWidth, window.innerHeight);

        render();
      }

      function animate() {
        requestAnimationFrame(animate);

        TWEEN.update();

        controls.update();
      }

      function render() {
        renderer.render(scene, camera);
      }
    </script>
  </body>
</html>
